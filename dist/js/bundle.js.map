{"version":3,"sources":["webpack:///js/bundle.js","webpack:///webpack/bootstrap 23a9a50e40f369fc00b0","webpack:///./src/utils/index.js","webpack:///./src/type/index.js","webpack:///./src/index.js","webpack:///./src/diff/diff.js","webpack:///./src/diff/diffProps.js","webpack:///./src/diff/index.js","webpack:///./src/diff/listDiff.js","webpack:///./src/h/index.js","webpack:///./src/patch/index.js","webpack:///./src/patch/reorder.js","webpack:///./src/patch/replace.js","webpack:///./src/patch/setProps.js","webpack:///./src/patch/setText.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","getType","obj","toString","replace","toLowerCase","isString","setAttr","node","key","style","cssText","tagName","setAttribute","isIgnoreChildren","arguments","length","undefined","props","REPLACE","REORDER","PROPS","TEXT","KEY","_interopRequireDefault","default","patch","diff","h","_h","_h2","_diff","_diff2","_patch","_patch2","vd","window","_type","_utils","_listDiff","_listDiff2","_diffProps","_diffProps2","oldNode","newNode","index","patches","currentPatch","push","type","content","propsPatches","diffChildren","children","oldChildren","newChildren","diffs","moves","leftNode","currentNodeIndex","forEach","child","newChild","count","diffProps","oldProps","newProps","keys","listDiff","oldList","newList","oldMap","getListMap","newMap","getReuseList","getDiffMoves","getItemKey","item","getRemoveAction","getInsertAction","removeArrItemByIndex","arr","splice","list","listMap","map","itemKey","reuseList","simulateList","slice","simulateItem","simulateItemKey","nextSimulateItemKey","_classCallCheck","instance","Constructor","TypeError","VNode","_createClass","defineProperties","target","descriptor","writable","protoProps","staticProps","this","Array","isArray","el","document","createElement","propName","childEl","render","createTextNode","appendChild","_len","arg","_key","Function","bind","apply","concat","_replace","_replace2","_reorder","_reorder2","_setProps","_setProps2","_setText","_setText2","walker","currentPatches","len","childNodes","text","Error","reorder","nodeList","from","maps","nodeType","getAttribute","move","removeChild","insertNode","insertBefore","vnode","parentNode","replaceChild","setProps","removeAttribute","setText","setTextContent","nodeValue"],"mappings":"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","file":"js/bundle.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 13);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar getType = function getType(obj) {\n  return Object.prototype.toString.call(obj).replace(/\\[object\\s/, '').replace(/\\]/, '').toLowerCase();\n};\n\nvar isString = function isString(obj) {\n  return getType(obj) === 'string';\n};\n\nvar setAttr = function setAttr(node, key, value) {\n  if (key === 'style') {\n    return node.style.cssText = value;\n  }\n  if (key === 'value') {\n    var tagName = node.tagName.toLowerCase();\n    if (tagName === 'input' || tagName === 'textarea') {\n      node.value = value;\n    }\n  }\n  node.setAttribute(key, value);\n};\n\nvar isIgnoreChildren = function isIgnoreChildren() {\n  var node = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return node.props && node.props.hasOwnProperty('ignore');\n};\n\nexports.getType = getType;\nexports.setAttr = setAttr;\nexports.isString = isString;\nexports.isIgnoreChildren = isIgnoreChildren;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar REPLACE = 0;\nvar REORDER = 1;\nvar PROPS = 2;\nvar TEXT = 3;\nvar KEY = 'key';\n\nexports.REPLACE = REPLACE;\nexports.REORDER = REORDER;\nexports.PROPS = PROPS;\nexports.TEXT = TEXT;\nexports.KEY = KEY;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.patch = exports.diff = exports.h = undefined;\n\nvar _h = __webpack_require__(7);\n\nvar _h2 = _interopRequireDefault(_h);\n\nvar _diff = __webpack_require__(5);\n\nvar _diff2 = _interopRequireDefault(_diff);\n\nvar _patch = __webpack_require__(8);\n\nvar _patch2 = _interopRequireDefault(_patch);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar vd = {\n  h: _h2.default,\n  diff: _diff2.default,\n  patch: _patch2.default\n};\n\nwindow && (window.vd = vd);\n\nexports.default = vd;\nexports.h = _h2.default;\nexports.diff = _diff2.default;\nexports.patch = _patch2.default;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _type = __webpack_require__(1);\n\nvar _utils = __webpack_require__(0);\n\nvar _listDiff = __webpack_require__(6);\n\nvar _listDiff2 = _interopRequireDefault(_listDiff);\n\nvar _diffProps = __webpack_require__(4);\n\nvar _diffProps2 = _interopRequireDefault(_diffProps);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar diff = function diff(oldNode, newNode) {\n  var index = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  var patches = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n  var currentPatch = [];\n\n  if (newNode === null) {// remove oldNode\n\n  } else if ((0, _utils.isString)(oldNode) && (0, _utils.isString)(newNode)) {\n    // replace textNode\n    oldNode !== newNode && currentPatch.push({ type: _type.TEXT, content: newNode });\n  } else if (oldNode.tagName === newNode.tagName && oldNode[_type.KEY] === newNode[_type.KEY]) {\n    // nodes are same, diff props and children\n    var propsPatches = (0, _diffProps2.default)(oldNode, newNode);\n    propsPatches && currentPatch.push({ type: _type.PROPS, props: propsPatches });\n\n    if (!(0, _utils.isIgnoreChildren)(newNode)) {\n      diffChildren(oldNode.children, newNode.children, index, patches, currentPatch);\n    }\n  } else {\n    currentPatch.push({ type: _type.REPLACE, node: newNode });\n  }\n\n  currentPatch.length && (patches[index] = currentPatch);\n\n  return patches;\n};\n\nvar diffChildren = function diffChildren(oldChildren, newChildren, index, patches, currentPatch) {\n  var diffs = (0, _listDiff2.default)(oldChildren, newChildren, _type.KEY);\n  // diffs.children are can reuse children, others children will be replace\n  newChildren = diffs.children;\n\n  if (diffs.moves.length) {\n    currentPatch.push({ type: _type.REORDER, moves: diffs.moves });\n  }\n  var leftNode = null;\n  var currentNodeIndex = index;\n  oldChildren.forEach(function (child, index) {\n    var newChild = newChildren[index];\n    currentNodeIndex = leftNode && leftNode.count ? currentNodeIndex + leftNode.count + 1 : currentNodeIndex + 1;\n    diff(child, newChild, currentNodeIndex, patches);\n    leftNode = child;\n  });\n};\n\nexports.default = diff;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar diffProps = function diffProps(oldNode, newNode) {\n  var count = 0,\n      oldProps = oldNode.props,\n      newProps = newNode.props,\n      propsPatches = {};\n\n  Object.keys(oldProps).forEach(function (key) {\n    if (oldProps[key] !== newProps[key]) {\n      propsPatches[key] = newProps[key];\n      count++;\n    }\n  });\n\n  Object.keys(newProps).forEach(function (key) {\n    if (!oldProps.hasOwnProperty(key)) {\n      propsPatches[key] = newProps[key];\n      count++;\n    }\n  });\n\n  if (count === 0) {\n    return null;\n  }\n  return propsPatches;\n};\n\nexports.default = diffProps;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _diff = __webpack_require__(3);\n\nObject.defineProperty(exports, 'default', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_diff).default;\n  }\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar listDiff = function listDiff(oldList, newList, key) {\n  var oldMap = getListMap(oldList, key),\n      newMap = getListMap(newList, key);\n\n  var children = getReuseList(oldList, newList, newMap, key);\n  var moves = getDiffMoves(oldList, newList, oldMap, children, key);\n\n  return {\n    moves: moves,\n    children: children\n  };\n};\n\nvar getItemKey = function getItemKey(item, key) {\n  return item && key ? item[key] : undefined;\n};\n\nvar getRemoveAction = function getRemoveAction(index) {\n  return { index: index, type: 0 };\n};\n\nvar getInsertAction = function getInsertAction(index, item) {\n  return { index: index, item: item, type: 1 };\n};\n\nvar removeArrItemByIndex = function removeArrItemByIndex(arr, index) {\n  return arr.splice(index, 1);\n};\n\n// return item collection for has key\nvar getListMap = function getListMap(list, key) {\n  var listMap = {};\n  list.forEach(function (item, index) {\n    item.hasOwnProperty(key) && (listMap[item[key]] = index);\n  });\n  return listMap;\n};\n\nvar getReuseList = function getReuseList(oldList, newList, newMap, key) {\n  return oldList.map(function (item) {\n    var itemKey = getItemKey(item, key);\n    // new collection has itemKey, current position need return new item\n    if (itemKey && newMap.hasOwnProperty(itemKey)) {\n      return newList[newMap[itemKey]];\n    }\n    // new collection not has itemKey, current position need return null (null will remove)\n    return null;\n  });\n};\n\nvar getDiffMoves = function getDiffMoves(oldList, newList, oldMap, reuseList, key) {\n  var moves = [];\n  var simulateList = reuseList.slice();\n\n  // remove null item in simulateList , i is simulateList cursor\n  // fetch diff remove actions\n  var i = 0;\n  while (i < simulateList.length) {\n    if (simulateList[i] === null) {\n      moves.push(getRemoveAction(i));\n      removeArrItemByIndex(simulateList, i);\n    } else {\n      i++;\n    }\n  }\n  // fetch actions by diff simulateList and newList\n  // i is simulateList cursor\n  i = 0;\n  newList.forEach(function (item, index) {\n    var itemKey = getItemKey(item, key);\n    var simulateItem = simulateList[i];\n    var simulateItemKey = getItemKey(simulateItem, key);\n\n    if (simulateItem) {\n      // position are same , don't need move, move cursor next\n      if (itemKey === simulateItemKey) {\n        i++;\n      } else {\n        // new item, add insert action\n        if (!oldMap.hasOwnProperty(itemKey)) {\n          moves.push(getInsertAction(index, item));\n        } else {\n          // if remove current simulateItem make next item in right position, remove it\n          // cursor next next\n          var nextSimulateItemKey = getItemKey(simulateList[i + 1], key);\n          if (nextSimulateItemKey === itemKey) {\n            moves.push(getRemoveAction(index));\n            i += 2;\n          } else {\n            moves.push(getInsertAction(index, item));\n          }\n        }\n      }\n    } else {\n      moves.push(getInsertAction(index, item));\n    }\n  });\n  return moves;\n};\n\nexports.default = listDiff;\nexports.getItemKey = getItemKey;\nexports.getInsertAction = getInsertAction;\nexports.getRemoveAction = getRemoveAction;\nexports.removeArrItemByIndex = removeArrItemByIndex;\nexports.getListMap = getListMap;\nexports.getReuseList = getReuseList;\nexports.getDiffMoves = getDiffMoves;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.VNode = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _type = __webpack_require__(1);\n\nvar _utils = __webpack_require__(0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar VNode = function () {\n  function VNode(tagName, props, children) {\n    _classCallCheck(this, VNode);\n\n    if (tagName === undefined) {\n      return null;\n    }\n    if (children === undefined && Array.isArray(props)) {\n      children = props;\n      props = {};\n    }\n    this.tagName = tagName;\n    this.props = props || {};\n    this.children = children || [];\n    if (props && props[_type.KEY] !== undefined) {\n      this[_type.KEY] = props[_type.KEY];\n    }\n\n    var count = 0;\n    this.children.forEach(function (child, index) {\n      if (child instanceof VNode) {\n        count += child.count;\n      } else {\n        children[index] = '' + child;\n      }\n      count++;\n    });\n    this.count = count;\n  }\n\n  _createClass(VNode, [{\n    key: 'render',\n    value: function render() {\n      var el = document.createElement(this.tagName),\n          props = this.props,\n          children = this.children || [];\n\n      for (var propName in props) {\n        (0, _utils.setAttr)(el, propName, props[propName]);\n      }\n\n      children.forEach(function (child) {\n        var childEl = child instanceof VNode ? child.render() : document.createTextNode(child);\n        el.appendChild(childEl);\n      });\n\n      return el;\n    }\n  }]);\n\n  return VNode;\n}();\n\nvar h = function h() {\n  for (var _len = arguments.length, arg = Array(_len), _key = 0; _key < _len; _key++) {\n    arg[_key] = arguments[_key];\n  }\n\n  return new (Function.prototype.bind.apply(VNode, [null].concat(arg)))();\n};\n\nexports.default = h;\nexports.VNode = VNode;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _type = __webpack_require__(1);\n\nvar _replace = __webpack_require__(10);\n\nvar _replace2 = _interopRequireDefault(_replace);\n\nvar _reorder = __webpack_require__(9);\n\nvar _reorder2 = _interopRequireDefault(_reorder);\n\nvar _setProps = __webpack_require__(11);\n\nvar _setProps2 = _interopRequireDefault(_setProps);\n\nvar _setText = __webpack_require__(12);\n\nvar _setText2 = _interopRequireDefault(_setText);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar patch = function patch(node, patches) {\n  var walker = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : { index: 0 };\n\n  var currentPatches = patches[walker.index],\n      len = node.childNodes ? node.childNodes.length : 0;\n\n  for (var i = 0; i < len; i++) {\n    var child = node.childNodes[i];\n    walker.index++;\n    patch(child, patches, walker);\n  }\n\n  if (currentPatches) {\n    currentPatches.forEach(function (currentPatch) {\n      switch (currentPatch.type) {\n        case _type.REPLACE:\n          (0, _replace2.default)(node, currentPatch.node);\n          break;\n        case _type.REORDER:\n          (0, _reorder2.default)(node, currentPatch.moves);\n          break;\n        case _type.PROPS:\n          (0, _setProps2.default)(node, currentPatch.props);\n          break;\n        case _type.TEXT:\n          (0, _setText2.default)(node, currentPatch.text);\n          break;\n        default:\n          throw new Error('Unknown patch type ' + currentPatch.type);\n      }\n    });\n  }\n};\n\nexports.default = patch;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _type = __webpack_require__(1);\n\nvar _utils = __webpack_require__(0);\n\nvar reorder = function reorder(node, moves) {\n  // get node childNodes save in array\n  var nodeList = Array.from(node.childNodes);\n  var maps = {};\n\n  // generate key map for child nodes\n  nodeList.forEach(function (node) {\n    if (node.nodeType === 1) {\n      var key = node.getAttribute(_type.KEY);\n      key && (maps[key] = node);\n    }\n  });\n\n  moves.forEach(function (move) {\n    var index = move.index;\n    if (move.type === 0) {\n      if (nodeList[index] === node.childNodes[index]) {\n        node.removeChild(node.childNodes[index]);\n      }\n      nodeList.splice(index, 1);\n    } else if (move.type === 1) {\n      // if key is same, reuse old child\n      var insertNode = maps[move.item[_type.KEY]] ? maps[move.item[_type.KEY]] : (0, _utils.getType)(move.item) === 'object' ? move.item.render() : document.createTextNode(move.item);\n      nodeList.splice(index, 0, insertNode);\n      node.insertBefore(insertNode, node.childNodes[index] || null);\n    }\n  });\n};\n\nexports.default = reorder;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(0);\n\nvar replace = function replace(node, vnode) {\n  var newNode = (0, _utils.isString)(vnode) ? document.createTextNode(node) : vnode.render();\n  node.parentNode.replaceChild(newNode, node);\n};\n\nexports.default = replace;\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = __webpack_require__(0);\n\nvar setProps = function setProps(node, props) {\n  Object.keys(props).forEach(function (key) {\n    props[key] === undefined ? node.removeAttribute(key) : (0, _utils.setAttr)(node, key, props[key]);\n  });\n};\n\nexports.default = setProps;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar setText = function setText(node, content) {\n    return node.setTextContent ? node.setTextContent = content : node.nodeValue = content;\n};\n\nexports.default = setText;\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(2);\n\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// js/bundle.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 13);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 23a9a50e40f369fc00b0","const getType = obj => Object.prototype.toString.call(obj).replace(/\\[object\\s/, '').replace(/\\]/, '').toLowerCase();\n\nconst isString = obj => getType(obj) === 'string';\n\nconst setAttr = (node, key, value) => {\n  if (key === 'style') {\n    return node.style.cssText = value;\n  }\n  if (key === 'value') {\n    const tagName = node.tagName.toLowerCase();\n    if (\n            tagName === 'input' || tagName === 'textarea'\n        ) {\n      node.value = value;\n    }\n  }\n  node.setAttribute(key, value);\n};\n\nconst isIgnoreChildren = (node = {}) => node.props && node.props.hasOwnProperty('ignore');\n\nexport {\n    getType,\n    setAttr,\n    isString,\n    isIgnoreChildren,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/index.js","const REPLACE = 0;\nconst REORDER = 1;\nconst PROPS = 2;\nconst TEXT = 3;\nconst KEY = 'key';\n\nexport {\n    REPLACE,\n    REORDER,\n    PROPS,\n    TEXT,\n    KEY,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/type/index.js","import h from './h';\nimport diff from './diff';\nimport patch from './patch';\n\nconst vd = {\n  h,\n  diff,\n  patch,\n};\n\nwindow && (window.vd = vd);\n\nexport default vd;\nexport {\n    h,\n    diff,\n    patch,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import { REPLACE, REORDER, PROPS, TEXT, KEY } from '../type';\nimport { getType, setAttr, isString, isIgnoreChildren } from '../utils';\nimport listDiff from './listDiff';\nimport diffProps from './diffProps';\n\nconst diff = (oldNode, newNode, index = 0, patches = {}) => {\n  const currentPatch = [];\n\n  if (newNode === null) {  // remove oldNode\n\n  } else if (isString(oldNode) && isString(newNode)) {  // replace textNode\n    oldNode !== newNode && currentPatch.push({ type: TEXT, content: newNode });\n  } else if (\n        oldNode.tagName === newNode.tagName &&\n        oldNode[KEY] === newNode[KEY]\n    ) {   // nodes are same, diff props and children\n    const propsPatches = diffProps(oldNode, newNode);\n    propsPatches && currentPatch.push({ type: PROPS, props: propsPatches });\n\n    if (!isIgnoreChildren(newNode)) {\n      diffChildren(\n                oldNode.children,\n                newNode.children,\n                index,\n                patches,\n                currentPatch\n            );\n    }\n  } else {\n    currentPatch.push({ type: REPLACE, node: newNode });\n  }\n\n  currentPatch.length && (patches[index] = currentPatch);\n\n  return patches;\n};\n\nlet diffChildren = (oldChildren, newChildren, index, patches, currentPatch) => {\n  const diffs = listDiff(oldChildren, newChildren, KEY);\n    // diffs.children are can reuse children, others children will be replace\n  newChildren = diffs.children;\n\n  if (diffs.moves.length) {\n    currentPatch.push({ type: REORDER, moves: diffs.moves });\n  }\n  let leftNode = null;\n  let currentNodeIndex = index;\n  oldChildren.forEach((child, index) => {\n    const newChild = newChildren[index];\n    currentNodeIndex = (leftNode && leftNode.count)\n            ? currentNodeIndex + leftNode.count + 1\n            : currentNodeIndex + 1;\n    diff(child, newChild, currentNodeIndex, patches);\n    leftNode = child;\n  });\n};\n\nexport default diff;\n\n\n\n// WEBPACK FOOTER //\n// ./src/diff/diff.js","const diffProps = (oldNode, newNode) => {\n  let count = 0,\n    oldProps = oldNode.props,\n    newProps = newNode.props,\n    propsPatches = {};\n\n  Object.keys(oldProps).forEach((key) => {\n    if (oldProps[key] !== newProps[key]) {\n      propsPatches[key] = newProps[key];\n      count++;\n    }\n  });\n\n  Object.keys(newProps).forEach((key) => {\n    if (!oldProps.hasOwnProperty(key)) {\n      propsPatches[key] = newProps[key];\n      count++;\n    }\n  });\n\n  if (count === 0) {\n    return null;\n  }\n  return propsPatches;\n};\n\nexport default diffProps;\n\n\n\n// WEBPACK FOOTER //\n// ./src/diff/diffProps.js","export { default } from './diff';\n\n\n\n// WEBPACK FOOTER //\n// ./src/diff/index.js","const listDiff = (oldList, newList, key) => {\n  let oldMap = getListMap(oldList, key),\n    newMap = getListMap(newList, key);\n\n  const children = getReuseList(oldList, newList, newMap, key);\n  const moves = getDiffMoves(oldList, newList, oldMap, children, key);\n\n  return {\n    moves,\n    children,\n  };\n};\n\nconst getItemKey = (item, key) => item && key ? item[key] : undefined;\n\nconst getRemoveAction = index => ({ index, type: 0 });\n\nconst getInsertAction = (index, item) => ({ index, item, type: 1 });\n\nconst removeArrItemByIndex = (arr, index) => arr.splice(index, 1);\n\n// return item collection for has key\nlet getListMap = (list, key) => {\n  const listMap = {};\n  list.forEach((item, index) => {\n    item.hasOwnProperty(key) && (listMap[item[key]] = index);\n  });\n  return listMap;\n};\n\nlet getReuseList = (oldList, newList, newMap, key) => oldList.map((item) => {\n  const itemKey = getItemKey(item, key);\n        // new collection has itemKey, current position need return new item\n  if (itemKey && newMap.hasOwnProperty(itemKey)) {\n    return newList[newMap[itemKey]];\n  }\n        // new collection not has itemKey, current position need return null (null will remove)\n  return null;\n});\n\nlet getDiffMoves = (oldList, newList, oldMap, reuseList, key) => {\n  const moves = [];\n  const simulateList = reuseList.slice();\n\n    // remove null item in simulateList , i is simulateList cursor\n    // fetch diff remove actions\n  let i = 0;\n  while (i < simulateList.length) {\n    if (simulateList[i] === null) {\n      moves.push(getRemoveAction(i));\n      removeArrItemByIndex(simulateList, i);\n    } else {\n      i++;\n    }\n  }\n    // fetch actions by diff simulateList and newList\n    // i is simulateList cursor\n  i = 0;\n  newList.forEach((item, index) => {\n    const itemKey = getItemKey(item, key);\n    const simulateItem = simulateList[i];\n    const simulateItemKey = getItemKey(simulateItem, key);\n\n    if (simulateItem) {\n            // position are same , don't need move, move cursor next\n      if (itemKey === simulateItemKey) {\n        i++;\n      } else {\n                // new item, add insert action\n        if (!oldMap.hasOwnProperty(itemKey)) {\n          moves.push(getInsertAction(index, item));\n        } else {\n                    // if remove current simulateItem make next item in right position, remove it\n                    // cursor next next\n          const nextSimulateItemKey = getItemKey(simulateList[i + 1], key);\n          if (nextSimulateItemKey === itemKey) {\n            moves.push(getRemoveAction(index));\n            i += 2;\n          } else {\n            moves.push(getInsertAction(index, item));\n          }\n        }\n      }\n    } else {\n      moves.push(getInsertAction(index, item));\n    }\n  });\n  return moves;\n};\n\nexport default listDiff;\nexport {\n    getItemKey,\n    getInsertAction,\n    getRemoveAction,\n    removeArrItemByIndex,\n    getListMap,\n    getReuseList,\n    getDiffMoves,\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/diff/listDiff.js","import { KEY } from '../type';\nimport { setAttr } from '../utils';\n\nclass VNode {\n  constructor(tagName, props, children) {\n    if (tagName === undefined) {\n      return null;\n    }\n    if (children === undefined && Array.isArray(props)) {\n      children = props;\n      props = {};\n    }\n    this.tagName = tagName;\n    this.props = props || {};\n    this.children = children || [];\n    if (props && props[KEY] !== undefined) {\n      this[KEY] = props[KEY];\n    }\n\n    let count = 0;\n    this.children.forEach((child, index) => {\n      if (child instanceof VNode) {\n        count += child.count;\n      } else {\n        children[index] = `${child}`;\n      }\n      count++;\n    });\n    this.count = count;\n  }\n\n  render() {\n    let el = document.createElement(this.tagName),\n      props = this.props,\n      children = this.children || [];\n\n    for (const propName in props) {\n      setAttr(el, propName, props[propName]);\n    }\n\n    children.forEach((child) => {\n      const childEl = child instanceof VNode\n                ? child.render()\n                : document.createTextNode(child);\n      el.appendChild(childEl);\n    });\n\n    return el;\n  }\n}\n\nconst h = (...arg) => new VNode(...arg);\n\nexport default h;\nexport {\n    VNode,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/h/index.js","import { REPLACE, REORDER, PROPS, TEXT } from '../type';\nimport replace from './replace';\nimport reorder from './reorder';\nimport setProps from './setProps';\nimport setText from './setText';\n\nconst patch = (node, patches, walker = { index: 0 }) => {\n  let currentPatches = patches[walker.index],\n    len = node.childNodes ? node.childNodes.length : 0;\n\n  for (let i = 0; i < len; i++) {\n    const child = node.childNodes[i];\n    walker.index++;\n    patch(child, patches, walker);\n  }\n\n  if (currentPatches) {\n    currentPatches.forEach((currentPatch) => {\n      switch (currentPatch.type) {\n        case REPLACE:\n          replace(node, currentPatch.node);\n          break;\n        case REORDER:\n          reorder(node, currentPatch.moves);\n          break;\n        case PROPS:\n          setProps(node, currentPatch.props);\n          break;\n        case TEXT:\n          setText(node, currentPatch.text);\n          break;\n        default :\n          throw new Error(`Unknown patch type ${currentPatch.type}`);\n      }\n    });\n  }\n};\n\nexport default patch;\n\n\n\n// WEBPACK FOOTER //\n// ./src/patch/index.js","import { KEY } from '../type';\nimport { getType } from '../utils';\n\nconst reorder = (node, moves) => {\n    // get node childNodes save in array\n  const nodeList = Array.from(node.childNodes);\n  const maps = {};\n\n    // generate key map for child nodes\n  nodeList.forEach((node) => {\n    if (node.nodeType === 1) {\n      const key = node.getAttribute(KEY);\n      key && (maps[key] = node);\n    }\n  });\n\n  moves.forEach((move) => {\n    const index = move.index;\n    if (move.type === 0) {\n      if (nodeList[index] === node.childNodes[index]) {\n        node.removeChild(node.childNodes[index]);\n      }\n      nodeList.splice(index, 1);\n    } else if (move.type === 1) {\n            // if key is same, reuse old child\n      const insertNode = maps[move.item[KEY]]\n                ? maps[move.item[KEY]]\n                : (getType(move.item) === 'object')\n                    ? move.item.render()\n                    : document.createTextNode(move.item);\n      nodeList.splice(index, 0, insertNode);\n      node.insertBefore(insertNode, node.childNodes[index] || null);\n    }\n  });\n};\n\nexport default reorder;\n\n\n\n// WEBPACK FOOTER //\n// ./src/patch/reorder.js","import { isString } from '../utils';\n\nconst replace = (node, vnode) => {\n  const newNode = isString(vnode) ? document.createTextNode(node) : vnode.render();\n  node.parentNode.replaceChild(newNode, node);\n};\n\nexport default replace;\n\n\n\n// WEBPACK FOOTER //\n// ./src/patch/replace.js","import { setAttr } from '../utils';\n\nconst setProps = (node, props) => {\n  Object.keys(props).forEach((key) => {\n    props[key] === undefined ? node.removeAttribute(key) : setAttr(node, key, props[key]);\n  });\n};\n\nexport default setProps;\n\n\n\n// WEBPACK FOOTER //\n// ./src/patch/setProps.js","const setText = (node, content) => (\n    node.setTextContent ? node.setTextContent = content : node.nodeValue = content\n);\n\nexport default setText;\n\n\n\n// WEBPACK FOOTER //\n// ./src/patch/setText.js"],"sourceRoot":""}